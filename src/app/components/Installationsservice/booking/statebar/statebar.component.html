<div class="statebar">
    <div class="stepper-wrapper">
        <div class="stepper-item" [ngClass]="{ 
            'completed': currentStep > 1, 
            'active': currentStep === 1,
            'transition-to-complete': previousStep === 1 && currentStep > 1}">
            <div class="step-counter">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                d="M6.10821 22.9955C5.91021 22.9955 5.70781 22.9207 5.55381 22.7667C5.24581 22.4631 5.24581 21.9615 5.54941 21.6579L11.6962 15.4715L12.1758 15.6607C14.6882 16.6419 17.5394 16.0479 19.4446 14.1427C21.0462 12.5411 21.7238 10.2619 21.3102 8.08393L17.5042 11.8899C16.6154 12.7875 15.1546 12.7875 14.2526 11.8899L12.1098 9.74713C11.2166 8.85393 11.2166 7.39753 12.1098 6.49553L15.9158 2.69393C13.7378 2.28033 11.4586 2.95353 9.85701 4.55953C7.95181 6.46033 7.35781 9.31593 8.33901 11.8283L8.52821 12.3079L2.34181 18.4503C2.03381 18.7539 1.53661 18.7539 1.23301 18.4459C0.929412 18.1379 0.929412 17.6407 1.23741 17.3371L6.70661 11.9119C5.75621 8.94193 6.53061 5.67273 8.75261 3.45073C11.0978 1.10553 14.609 0.37073 17.7066 1.58073L18.8286 2.01633L13.223 7.60873C12.9414 7.89033 12.9414 8.35673 13.223 8.63833L15.3658 10.7811C15.6518 11.0627 16.1138 11.0671 16.3954 10.7811L21.9878 5.17993L22.4234 6.29753C23.6334 9.39073 22.8986 12.9063 20.5534 15.2515C18.3314 17.4691 15.0578 18.2479 12.0922 17.2975L6.66701 22.7667C6.51301 22.9207 6.31061 22.9955 6.10821 22.9955Z"/>
            </svg>
            </div>
            <div class="step-name">Service</div>
        </div>
        @if (this.booking.selectedService !== this.serviceOptions.remoteService) {
        <div class="stepper-item" [ngClass]="{ 'completed': currentStep > 2, 'active': currentStep === 2, 'transition-to-complete': previousStep === 2 && currentStep > 2 }">
            <div class="step-counter">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M18.7935 6.15686C18.4107 4.19886 16.7431 2.72046 14.7499 2.72046C12.7567 2.72046 11.0891 4.19886 10.7063 6.15686H3.06348V20.9365H20.9363V6.15686H18.7935ZM14.7499 4.09326C16.2679 4.09326 17.4999 5.40446 17.4999 7.01486C17.4999 8.10166 15.9907 10.8429 14.7499 12.8009C13.5091 10.8473 11.9999 8.10166 11.9999 7.01486C11.9999 5.40446 13.2319 4.09326 14.7499 4.09326ZM4.43628 10.2313C4.84108 10.4249 5.12268 10.8341 5.12268 11.3137V12.3433C5.12268 12.3785 5.12708 12.4137 5.13148 12.4489C5.36028 13.9273 6.69788 14.3233 7.77588 14.6401C9.06948 15.0229 9.59308 15.2649 9.59308 16.1273V17.2933C9.59308 17.3241 9.59308 17.3549 9.59748 17.3901C9.64588 18.2349 9.95828 18.9785 10.4643 19.5637H4.43628V10.2313ZM19.5635 19.5637H13.7203C12.3959 19.5637 10.9703 18.8113 10.9703 17.1569V16.1273C10.9703 14.1517 9.35108 13.6721 8.16748 13.3245C7.09828 13.0077 6.60548 12.8097 6.49988 12.2861V11.3137C6.49988 10.0685 5.61108 9.02566 4.43628 8.78806V7.53406H10.6799C11.0935 9.80886 13.8435 13.9493 14.1823 14.4509C14.3099 14.6401 14.5255 14.7545 14.7543 14.7545C14.9831 14.7545 15.1987 14.6401 15.3263 14.4509C15.6607 13.9493 18.4151 9.80886 18.8287 7.53406H19.5679V19.5637H19.5635ZM16.5583 6.67166C16.5583 5.67286 15.7443 4.86326 14.7499 4.86326C13.7511 4.86326 12.9415 5.67726 12.9415 6.67166C12.9415 7.66606 13.7511 8.48006 14.7499 8.48006C15.7487 8.48006 16.5583 7.67046 16.5583 6.67166ZM14.7499 7.45046C14.3187 7.45046 13.9711 7.10286 13.9711 6.67166C13.9711 6.24046 14.3187 5.89286 14.7499 5.89286C15.1811 5.89286 15.5287 6.24046 15.5287 6.67166C15.5287 7.10286 15.1811 7.45046 14.7499 7.45046Z"/>
                </svg>
            </div>
            <div class="step-name">Anschrift</div>
        </div>
    }
        <div class="stepper-item" [ngClass]="{ 'completed': currentStep > 3, 'active': currentStep === 3, 'transition-to-complete': previousStep === 3 && currentStep > 3 }">
            <div class="step-counter">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M16.3208 1C16.752 1 17.1084 1.352 17.104 1.7876V3.3584H20.6416C21.9396 3.3584 23 4.4188 23 5.7124V23H1V5.7124C1 4.4188 2.0604 3.3584 3.3584 3.3584H6.8872V1.7876C6.8872 1.352 7.2436 1 7.6748 1C8.1104 1 8.4624 1.3564 8.4624 1.7876V3.3584H15.5332V1.7876C15.5332 1.352 15.8896 1 16.3208 1ZM21.4292 10.0376H2.5708V21.4292H21.4292V10.0376ZM9.4084 11.1772C10.8604 11.1772 12.0396 12.3916 12.044 13.8436C12.044 14.5916 11.7668 15.2604 11.296 15.7312C11.7668 16.2416 12.044 16.9104 12.044 17.6188C12.044 19.0708 10.8648 20.2896 9.4128 20.2896H8.7044C8.2292 20.2896 7.2876 20.0916 6.7772 19.7C6.4208 19.4228 6.3812 18.9124 6.6584 18.5604C6.9356 18.204 7.446 18.1644 7.798 18.4416C7.9124 18.5208 8.4228 18.6792 8.7 18.6792H9.4084C9.998 18.6792 10.4292 18.2084 10.4292 17.6188C10.4292 17.0292 9.9584 16.5584 9.4084 16.5584H8.348C7.8728 16.5584 7.5208 16.2108 7.5208 15.7356C7.5208 15.2604 7.9168 14.9084 8.348 14.9084H9.404C9.9936 14.9084 10.4248 14.4376 10.4248 13.848C10.4248 13.2584 9.954 12.7876 9.404 12.7876H8.6956C8.45311 12.7876 8.02289 12.9128 7.84684 12.9962L7.7936 13.0252C7.4416 13.2584 6.9312 13.2188 6.654 12.8668C6.3812 12.5544 6.4208 12.0396 6.7728 11.7668C7.2876 11.3752 8.2292 11.1772 8.7 11.1772H9.4084ZM13.3376 12.352L15.1416 11.3312C15.3792 11.1728 15.6916 11.1728 15.9292 11.3312C16.1624 11.45 16.3208 11.7272 16.3252 12V19.4668C16.3252 19.9024 15.9732 20.2544 15.5376 20.2544C15.102 20.2544 14.75 19.898 14.75 19.4668V13.3376L14.1208 13.6896C13.7688 13.9228 13.2584 13.804 13.0604 13.4124C12.8272 13.0604 12.946 12.55 13.3376 12.352ZM6.896 4.9292H3.3584C2.9228 4.9292 2.5708 5.2812 2.5708 5.7168V8.4668H21.4424V5.7168C21.4424 5.2812 21.086 4.9292 20.6548 4.9292H17.1172V6.5C17.1172 6.9356 16.7652 7.2876 16.3296 7.2876C15.894 7.2876 15.542 6.9312 15.542 6.5V4.9292H8.4712V6.5C8.4712 6.9356 8.1148 7.2876 7.6836 7.2876C7.248 7.2876 6.896 6.9312 6.896 6.5V4.9292Z"/>
                </svg>
            </div>
            <div class="step-name">Termin</div>
        </div>
        @if (this.booking.selectedService !== this.serviceOptions.remoteService) {
        <div class="stepper-item" [ngClass]="{ 'completed': currentStep > 4 || currentStep > 5, 'active': currentStep === 4 || currentStep === 5, 'transition-to-complete': (previousStep === 4 && currentStep > 4) || (previousStep === 5 && currentStep > 5) }">
            <div class="step-counter">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M15.9513 13.7204H8.04892C7.77612 13.7204 7.53412 13.9624 7.53412 14.2352C7.53412 14.508 7.77612 14.75 8.04892 14.75H15.9557C16.2285 14.75 16.4705 14.508 16.4705 14.2352C16.4705 13.9624 16.2285 13.7204 15.9513 13.7204ZM15.9513 10.9704H8.04892C7.77612 10.9704 7.53412 11.2124 7.53412 11.4852C7.53412 11.758 7.77612 12 8.04892 12H15.9557C16.2285 12 16.4705 11.758 16.4705 11.4852C16.4705 11.2124 16.2285 10.9704 15.9513 10.9704ZM15.9513 8.2204H8.04892C7.77612 8.2204 7.53412 8.4624 7.53412 8.7352C7.53412 9.008 7.77612 9.25 8.04892 9.25H15.9557C16.2285 9.25 16.4705 9.008 16.4705 8.7352C16.4705 8.4624 16.2285 8.2204 15.9513 8.2204ZM15.9513 16.4704H8.04892C7.77612 16.4704 7.53412 16.7124 7.53412 16.9852C7.53412 17.258 7.77612 17.5 8.04892 17.5H15.9557C16.2285 17.5 16.4705 17.258 16.4705 16.9852C16.4705 16.7124 16.2285 16.4704 15.9513 16.4704ZM17.5001 3.4068H15.7797V2.3728H8.22052V3.4024H6.50012C5.36492 3.4024 4.43652 4.3308 4.43652 5.466V21.6228H19.5637V5.4704C19.5637 4.3352 18.6353 3.4068 17.5001 3.4068ZM9.21492 3.4068H14.7501V5.1272H9.21492V3.4068ZM18.1865 20.25H5.81372V5.4704C5.81372 5.092 6.12172 4.784 6.50012 4.784H8.22052V6.1568H15.7841V4.7796H17.5001C17.8785 4.7796 18.1865 5.0876 18.1865 5.466V20.25Z"/>
                </svg>                    
            </div>
            <div class="step-name">Ãœbersicht</div>
        </div>
    }
        <div class="stepper-item" [ngClass]="{ 'completed': currentStep > 5, 'active': currentStep === 5, 'transition-to-complete': previousStep === 6 && currentStep > 6 }">
            <div class="step-counter">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M17.843 7.35794C17.843 8.02234 17.3018 8.55914 16.6418 8.55914C15.9818 8.55914 15.4406 8.01794 15.4406 7.35794C15.4406 6.69794 15.9818 6.15674 16.6418 6.15674C17.3018 6.15674 17.843 6.69794 17.843 7.35794ZM21.0814 3.89074L20.4874 4.48474C21.385 5.83554 21.2442 7.68354 20.0518 8.87594L14.5518 14.3759L15.6782 18.7187L13.2274 21.4159L10.363 18.5691L9.69419 19.2379L4.76179 14.3055L5.47019 13.5971L2.57059 10.5611L5.30739 8.32154L9.62379 9.44794L15.1238 3.95234C15.7838 3.29234 16.655 2.92714 17.579 2.91394C18.2874 2.90954 18.9606 3.11194 19.5326 3.49474L20.109 2.91834C20.3774 2.64994 20.813 2.64994 21.0814 2.91834C21.3498 3.18674 21.3498 3.62234 21.0814 3.89074ZM6.44259 12.6247L8.49739 10.5743L5.63739 9.83074L4.59019 10.6843L6.44259 12.6247ZM13.4254 15.5023L11.3354 17.5967L13.179 19.4271L14.1646 18.3447L13.4254 15.5023ZM19.075 4.92474L18.8726 4.71794C18.5074 4.43634 18.0586 4.28234 17.5922 4.29114C17.029 4.29554 16.4966 4.52434 16.0962 4.92474L6.70659 14.3055L9.69419 17.2931L19.075 7.90354C19.8978 7.08074 19.8978 5.74314 19.075 4.92474ZM6.52179 17.4779C6.31939 17.2755 5.99379 17.2755 5.79139 17.4779L2.69819 20.5711C2.49579 20.7735 2.49579 21.0991 2.69819 21.3015C2.79939 21.4027 2.93139 21.4511 3.06339 21.4511C3.19539 21.4511 3.32739 21.4027 3.42859 21.3015L6.52179 18.2083C6.72419 18.0059 6.72419 17.6803 6.52179 17.4779ZM3.06339 18.0147C3.19539 18.0147 3.32739 17.9663 3.42859 17.8651L4.80139 16.4879C5.00379 16.2855 5.00379 15.9599 4.80139 15.7575C4.59899 15.5551 4.27339 15.5551 4.07099 15.7575L2.69819 17.1303C2.49579 17.3327 2.49579 17.6583 2.69819 17.8607C2.79939 17.9663 2.93139 18.0147 3.06339 18.0147ZM7.51179 19.1983L6.13899 20.5711C5.93659 20.7735 5.93659 21.0991 6.13899 21.3015C6.24019 21.4027 6.37219 21.4511 6.50419 21.4511C6.63619 21.4511 6.76819 21.4027 6.86939 21.3015L8.24219 19.9287C8.44459 19.7263 8.44459 19.4007 8.24219 19.1983C8.03979 18.9959 7.70979 18.9959 7.51179 19.1983Z"/>
                </svg>
            </div>
            <div class="step-name">Fertig</div>
        </div>
    </div>
</div>